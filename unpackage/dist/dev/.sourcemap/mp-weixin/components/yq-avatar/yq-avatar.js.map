{"version":3,"sources":["webpack:///E:/project/car-wash-mini-admin/components/yq-avatar/yq-avatar.vue?db80","webpack:///E:/project/car-wash-mini-admin/components/yq-avatar/yq-avatar.vue?7894","webpack:///E:/project/car-wash-mini-admin/components/yq-avatar/yq-avatar.vue?96f0","webpack:///E:/project/car-wash-mini-admin/components/yq-avatar/yq-avatar.vue?1cef","webpack:///E:/project/car-wash-mini-admin/components/yq-avatar/yq-avatar.vue","webpack:///E:/project/car-wash-mini-admin/components/yq-avatar/yq-avatar.vue?ccc7","webpack:///E:/project/car-wash-mini-admin/components/yq-avatar/yq-avatar.vue?928d"],"names":["tabHeight","name","data","cvsStyleHeight","styleDisplay","styleTop","prvTop","imgStyle","showOper","props","avatarSrc","avatarStyle","selWidth","selHeight","quality","created","ctxCanvas","uni","createCanvasContext","ctxCanvasOper","ctxCanvasPrv","qlty","parseInt","showTabBar","complete","res","moreHeight","errMsg","fWindowResize","methods","fGetImgData","Promise","resolve","reject","prvX","prvY","prvWidth","prvHeight","canvasGetImageData","canvasId","x","y","width","height","success","fail","err","fColorChange","e","tm_now","Date","now","prvTm","showLoading","mask","prvImgData","catch","title","duration","target","Uint8ClampedArray","length","i","detail","value","n","r","g","b","max","Math","min","d","h","l","s","a","round","q","p","hK","tR","tG","tB","correctRGB","t","createRGB","setFillStyle","fillRect","draw","canvasPutImageData","hideLoading","sysInfo","getSystemInfoSync","platform","pixelRatio","windowWidth","windowHeight","pxRatio","style","trim","split","obj","v","indexOf","arr","k","parseFloat","join","selStyle","top","left","setTimeout","fDrawInit","fHideImg","fUpload","fUploading","canvasToTempFilePath","fileType","tempFilePath","$emit","fPrvUpload","fPrvUploading","destWidth","destHeight","fDrawImage","drawTm","translate","posWidth","useWidth","posHeight","useHeight","scale","scaleSize","rotate","rotateDeg","PI","drawImage","imgPath","prvImg","fPreview","fPreviewing","radio","rHeight","ini","allWidth","allHeight","imgWidth","imgHeight","imgRadio","canvas","canvasOper","setLineWidth","setStrokeStyle","setGlobalAlpha","strokeRect","fSelect","fSelecting","chooseImage","count","sizeType","sourceType","path","tempFilePaths","getImageInfo","src","hideTabBar","fStart","touches","touch0","touch1","fgDistance","sqrt","fMove","atan","abs","fEnd","btop","base64","mime","match","bstr","atob","u8arr","Uint8Array","charCodeAt","window","URL","webkitURL","createObjectURL","Blob","type"],"mappings":"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","file":"components/yq-avatar/yq-avatar.js","sourcesContent":["import { render, staticRenderFns } from \"./yq-avatar.vue?vue&type=template&id=127af739&name=yq-avatar&\"\nimport script from \"./yq-avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./yq-avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yq-avatar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('127af739', component.options)\n    } else {\n      api.reload('127af739', component.options)\n    }\n    module.hot.accept(\"./yq-avatar.vue?vue&type=template&id=127af739&name=yq-avatar&\", function () {\n      api.rerender('127af739', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"project/car-wash-mini-admin/components/yq-avatar/yq-avatar.vue\"\nexport default component.exports","export * from \"-!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=template&id=127af739&name=yq-avatar&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var s0 = _vm.__get_style([_vm.imgStyle])\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        s0: s0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst tabHeight = 50;\nexport default {\n\tname: \"yq-avatar\",\n\tdata() {\n\t\treturn {\n\t\t\tcvsStyleHeight: '0px',\n\t\t\tstyleDisplay: 'none',\n\t\t\tstyleTop: '-10000px',\n\t\t\tprvTop: '-10000px',\n\t\t\timgStyle: {},\n\t\t\tshowOper: true,\n\t\t};\n\t},\n\tprops:{\n\t\tavatarSrc: '',\n\t\tavatarStyle: '',\n\t\tselWidth: '',\n\t\tselHeight: '',\n\t\tquality: '',\n\t},\n\tcreated() {\n\t\tthis.ctxCanvas = uni.createCanvasContext('avatar-factory', this);\n\t\tthis.ctxCanvasOper = uni.createCanvasContext('oper-canvas', this);\n\t\tthis.ctxCanvasPrv = uni.createCanvasContext('prv-canvas', this);\n\t\tthis.qlty = parseInt(this.quality) || 0.9;\n\t\t\n\t\tuni.showTabBar({\n\t\t\tcomplete:(res) => {\n\t\t\t\tthis.moreHeight = (res.errMsg === 'showTabBar:ok') ? 50 : 0;\n\t\t\t\t// uni.onWindowResize(()=>{\n\t\t\t\t// \tthis.fWindowResize();\n\t\t\t\t// })\n\t\t\t\tthis.fWindowResize();\n\t\t\t}\n\t\t});\n\t},\n\tmethods: {\n\t\tfGetImgData() {\n\t\t\treturn new Promise((resolve, reject)=>{\n\t\t\t\tlet prvX = this.prvX,\n\t\t\t\t\tprvY = this.prvY,\n\t\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\t\tprvHeight = this.prvHeight;\n\n\n\n\n\n\n\t\t\t\tuni.canvasGetImageData({\n\t\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\t\tx: prvX,\n\t\t\t\t\ty: prvY,\n\t\t\t\t\twidth: prvWidth,\n\t\t\t\t\theight: prvHeight,\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tresolve(res.data);\n\t\t\t\t\t},\n\t\t\t\t\tfail(err) {\n\t\t\t\t\t\treject(err);\n\t\t\t\t\t}\n\t\t\t\t}, this);\n\t\t\t});\n\t\t},\n\t\tasync fColorChange(e) {\n\t\t\tlet tm_now = Date.now();\n\t\t\tif(tm_now - this.prvTm < 20) return;\n\t\t\tthis.prvTm = tm_now;\n\t\t\t\n\t\t\tuni.showLoading({ mask: true });\n\t\t\t\n\t\t\tif( !this.prvImgData ) {\n\t\t\t\tif( !(this.prvImgData = await this.fGetImgData().catch((res)=>{\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: \"error_read\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t}))) return;\n\t\t\t\tthis.target = new Uint8ClampedArray(this.prvImgData.length);\n\t\t\t}\n\t\t\t\n\t\t\tlet data = this.prvImgData,\n\t\t\t\ttarget = this.target,\n\t\t\t\ti = e.detail.value,\n\t\t\t\tr,g,b,a,h,s,l,d,p,q,t,min,max,hK,tR,tG,tB;\n\t\t\t\t\n\t\t\tif( i === 0 ) {\n\t\t\t\ttarget = data;\n\t\t\t} else {\n\t\t\t\ti = (i+100)/200;\n\t\t\t\tif( i < 0.005 ) i = 0;\n\t\t\t\tif( i > 0.995 ) i = 1;\n\t\t\t\tfor( let n = data.length-1; n >= 0; n-=4 ) {\n\t\t\t\t\tr = data[n-3] / 255;\n\t\t\t\t\tg = data[n-2] / 255;\n\t\t\t\t\tb = data[n-1] / 255;\n\t\t\t\t\tmax = Math.max(r,g,b);\n\t\t\t\t\tmin = Math.min(r,g,b);\n\t\t\t\t\td = max-min;\n\t\t\t\t\tif ( max === min ){\n\t\t\t\t\t\th = 0 ;\n\t\t\t\t\t}else if( max === r && g>=b ){\n\t\t\t\t\t\th = 60*( (g-b)/d ) ;\n\t\t\t\t\t}else if( max === r && g<b ){\n\t\t\t\t\t\th = 60*( (g-b)/d ) + 360 ;\n\t\t\t\t\t}else if( max === g ){\n\t\t\t\t\t\th = 60*( (b-r)/d ) + 120 ;\n\t\t\t\t\t}else if( max === b ){\n\t\t\t\t\t\th = 60*( (r-g)/d ) + 240 ;\n\t\t\t\t\t}\n\t\t\t\t\tl = (max+min)/2 ;\n\t\t\t\t\tif ( l===0 || max===min ){\n\t\t\t\t\t\ts = 0 ;\n\t\t\t\t\t}else if( 0<l && l<=0.5 ){\n\t\t\t\t\t\ts = d/(2*l) ;\n\t\t\t\t\t}else if( l>0.5 ){\n\t\t\t\t\t\ts = d/(2-2*l) ;\n\t\t\t\t\t}\n\t\t\t\t\tdata[n] && (a = data[n]);\n\t\t\t\t\t\n\t\t\t\t\tif ( i < 0.5 ){\n\t\t\t\t\t\ts = s*i/0.5 ;\n\t\t\t\t\t}else if ( i > 0.5 ){\n\t\t\t\t\t\ts = 2*s + 2*i - (s*i/0.5) - 1 ;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif ( s === 0 ){\n\t\t\t\t\t\tr = g = b = Math.round( l*255 ) ;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif ( l<0.5 ){\n\t\t\t\t\t\t\tq = l * ( 1 + s ) ;\n\t\t\t\t\t\t}else if( l>=0.5 ){\n\t\t\t\t\t\t\tq = l + s - ( l * s ) ;\n\t\t\t\t\t\t}      \n\t\t\t\t\t\tp = 2*l-q ;\n\t\t\t\t\t\thK = h/360 ;\n\t\t\t\t\t\ttR = hK + 1/3 ;\n\t\t\t\t\t\ttG = hK ;\n\t\t\t\t\t\ttB = hK - 1/3 ;\n\t\t\t\t\t\tlet correctRGB = (t)=>{\n\t\t\t\t\t\t\tif( t<0 ){\n\t\t\t\t\t\t\t\treturn t + 1.0 ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif( t>1 ){\n\t\t\t\t\t\t\t\treturn t - 1.0 ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn t ;\n\t\t\t\t\t\t} ;\n\t\t\t\t\t\tlet createRGB = (t)=>{\n\t\t\t\t\t\t\tif ( t<(1/6) ){\n\t\t\t\t\t\t\t\treturn p+((q-p)*6*t) ;\n\t\t\t\t\t\t\t}else if( t>=(1/6) && t<(1/2) ){\n\t\t\t\t\t\t\t\treturn q ;\n\t\t\t\t\t\t\t}else if( t>=(1/2) && t<(2/3) ){\n\t\t\t\t\t\t\t\treturn p+((q-p)*6*((2/3)-t)) ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn p ;\n\t\t\t\t\t\t} ;\n\t\t\t\t\t\tr = tR = Math.round( createRGB( correctRGB( tR ) )*255 ) ;\n\t\t\t\t\t\tg = tG = Math.round( createRGB( correctRGB( tG ) )*255 ) ;\n\t\t\t\t\t\tb = tB = Math.round( createRGB( correctRGB( tB ) )*255 ) ;\n\t\t\t\t\t}\n\t\t\t\t\ta && ( target[n] = a ) ;  \n\t\t\t\t\ttarget[n-3] = r;\n\t\t\t\t\ttarget[n-2] = g;\n\t\t\t\t\ttarget[n-1] = b;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet prvX = this.prvX,\n\t\t\t\tprvY = this.prvY,\n\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\tprvHeight = this.prvHeight;\n\t\t\t\t\n\t\t\tthis.ctxCanvasPrv.setFillStyle('black');\n\t\t\tthis.ctxCanvasPrv.fillRect(prvX, prvY, prvWidth, prvHeight);\n\t\t\tthis.ctxCanvasPrv.draw(true);\n\t\t\t\n\n\n\n\n\n\n\t\t\t\n\t\t\t\n\t\t\tuni.canvasPutImageData({\n\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\tx: prvX,\n\t\t\t\ty: prvY,\n\t\t\t\twidth: prvWidth,\n\t\t\t\theight: prvHeight,\n\t\t\t\tdata: target,\n\t\t\t\tsuccess(res) {\n\t\t\t\t},\n\t\t\t\tfail() {\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: 'error_put',\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete(res) {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfWindowResize() {\n\t\t\tlet sysInfo = uni.getSystemInfoSync();\n\t\t\tthis.platform = sysInfo.platform;\n\t\t\tthis.pixelRatio = sysInfo.pixelRatio;\n\t\t\tthis.windowWidth = sysInfo.windowWidth;\n\n\n\n\n\n\n\n\n\n\n\n\n\t\t\tthis.windowHeight = sysInfo.windowHeight + this.moreHeight;\n\n\t\t\t\n\t\t\tthis.pxRatio = this.windowWidth/750;\n\t\t\tthis.cvsStyleHeight = this.windowHeight - tabHeight + 'px';\n\t\t\t\n\t\t\tlet style = this.avatarStyle;\n\t\t\tif(style && style !== true && (style=style.trim()) ) {\n\t\t\t\tstyle = style.split(';');\n\t\t\t\tlet obj = {};\n\t\t\t\tfor( let v of style ) {\n\t\t\t\t\tif(!v) continue;\n\t\t\t\t\tv = v.trim().split(':');\n\t\t\t\t\tif(v[1].indexOf('upx') >= 0) {\n\t\t\t\t\t\tlet arr = v[1].trim().split(' ');\n\t\t\t\t\t\tfor( let k in arr ) {\n\t\t\t\t\t\t\tif(!arr[k]) continue;\n\t\t\t\t\t\t\tif(arr[k].indexOf('upx') >= 0) {\n\t\t\t\t\t\t\t\tarr[k] = parseFloat(arr[k]) * this.pxRatio + 'px';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tv[1] = arr.join(' ');\n\t\t\t\t\t}\n\t\t\t\t\tobj[v[0].trim()] = v[1].trim();\n\t\t\t\t}\n\t\t\t\tthis.imgStyle = obj;\n\t\t\t}\n\t\t\t\n\t\t\tstyle = this.selStyle || {};\n\t\t\tif( this.selWidth && this.selHeight ) {\n\t\t\t\tstyle.width  = this.selWidth.indexOf('upx')  >= 0 ? parseInt(this.selWidth)  * this.pxRatio + 'px' : this.selWidth;\n\t\t\t\tstyle.height = this.selHeight.indexOf('upx') >= 0 ? parseInt(this.selHeight) * this.pxRatio + 'px' : this.selHeight;\n\t\t\t}\n\t\t\tstyle.top = (this.windowHeight - parseInt(style.height) - tabHeight)/2 + 'px';\n\t\t\tstyle.left = (this.windowWidth - parseInt(style.width))/2 + 'px';\n\t\t\tthis.selStyle = style;\n\t\t\t\n\t\t\tif(this.styleDisplay === 'flex') {\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t}, 200);\n\t\t\t}\n\t\t\tthis.fHideImg();\n\t\t},\n\t\tfUpload() {\n\t\t\tif(this.fUploading)\treturn;\n\t\t\tthis.fUploading = true;\n\t\t\tsetTimeout(()=>{ this.fUploading = false; }, 1000)\n\t\t\t\n\t\t\tlet style = this.selStyle,\n\t\t\t\tx = parseInt(style.left),\n\t\t\t\ty = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height);\n\t\t\t\t\n\n\n\n\n\t\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\t\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.fHideImg();\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tcanvasId: 'avatar-factory',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r)=>{\n\t\t\t\t\t\n\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\t\t\t\t\tthis.$emit(\"upload\", r);\n\n\t\t\t\t},\n\t\t\t\tfail: ()=>{\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: \"error1\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showTabBar();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfPrvUpload() {\n\t\t\tif(this.fPrvUploading)\treturn;\n\t\t\tthis.fPrvUploading = true;\n\t\t\tsetTimeout(()=>{ this.fPrvUploading = false; }, 1000)\n\t\t\t\n\t\t\tlet style = this.selStyle,\n\t\t\t\tdestWidth = parseInt(style.width),\n\t\t\t\tdestHeight = parseInt(style.height),\n\t\t\t\tprvX = this.prvX,\n\t\t\t\tprvY = this.prvY,\n\t\t\t\tprvWidth = this.prvWidth,\n\t\t\t\tprvHeight = this.prvHeight;\n\t\t\t\t\n\n\n\n\n\n\n\n\n\t\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\tthis.styleDisplay = 'none';\n\t\t\tthis.styleTop = '-10000px';\n\t\t\tthis.fHideImg();\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: prvX,\n\t\t\t\ty: prvY,\n\t\t\t\twidth: prvWidth,\n\t\t\t\theight: prvHeight,\n\t\t\t\tdestWidth: destWidth,\n\t\t\t\tdestHeight: destHeight,\n\t\t\t\tcanvasId: 'prv-canvas',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r)=>{\n\t\t\t\t\t\n\t\t\t\t\tr = r.tempFilePath;\n\n\n\n\n\n\n\t\t\t\t\tthis.$emit(\"upload\", r);\n\n\t\t\t\t},\n\t\t\t\tfail: ()=>{\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: \"error_prv\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\tuni.showTabBar();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfDrawImage() {\n\t\t\tlet tm_now = Date.now();\n\t\t\tif(tm_now - this.drawTm < 20) return;\n\t\t\tthis.drawTm = tm_now;\n\t\t\tlet ctxCanvas = this.ctxCanvas;\n\t\t\tctxCanvas.fillRect(0, 0, this.windowWidth, this.windowHeight-tabHeight);\n\t\t\tctxCanvas.translate(this.posWidth+this.useWidth/2, this.posHeight+this.useHeight/2);\n\t\t\tctxCanvas.scale(this.scaleSize, this.scaleSize);\n\t\t\tctxCanvas.rotate(this.rotateDeg * Math.PI/180);\n\t\t\tctxCanvas.drawImage(this.imgPath, -this.useWidth/2, -this.useHeight/2, this.useWidth, this.useHeight);\n\t\t\tctxCanvas.draw(false);\n\t\t},\n\t\tfHideImg() {\n\t\t\tthis.prvImg = '';\n\t\t\tthis.prvTop = '-10000px';\n\t\t\tthis.showOper = true;\n\t\t\tthis.prvImgData = null;\n\t\t\tthis.target = null;\n\t\t},\n\t\tfPreview() {\n\t\t\tif(this.fPreviewing) return;\n\t\t\tthis.fPreviewing = true;\n\t\t\tsetTimeout(()=>{ this.fPreviewing = false; }, 1000);\n\t\t\t\n\t\t\tlet style = this.selStyle,\n\t\t\t\tx = parseInt(style.left),\n\t\t\t\ty = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height);\n\t\t\t\t\n\n\n\n\n\t\t\t\n\t\t\tuni.showLoading({\n\t\t\t\tmask: true\n\t\t\t});\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tx: x,\n\t\t\t\ty: y,\n\t\t\t\twidth: width,\n\t\t\t\theight: height,\n\t\t\t\tcanvasId: 'avatar-factory',\n\t\t\t\tfileType: 'png',\n\t\t\t\tquality: this.qlty,\n\t\t\t\tsuccess: (r)=>{\n\t\t\t\t\tr = r.tempFilePath;\n\t\t\t\t\t\n\t\t\t\t\tlet ctxCanvasPrv = this.ctxCanvasPrv,\n\t\t\t\t\t\tprvX = this.windowWidth,\n\t\t\t\t\t\tprvY = parseInt(this.cvsStyleHeight),\n\t\t\t\t\t\tprvWidth = parseInt(this.selStyle.width),\n\t\t\t\t\t\tprvHeight = parseInt(this.selStyle.height),\n\t\t\t\t\t\tuseWidth = prvX - 40,\n\t\t\t\t\t\tuseHeight = prvY - 80,\n\t\t\t\t\t\tradio = useWidth/prvWidth,\n\t\t\t\t\t\trHeight = prvHeight*radio;\n\t\t\t\t\t\tif(rHeight < useHeight) {\n\t\t\t\t\t\t\tprvWidth = useWidth;\n\t\t\t\t\t\t\tprvHeight = rHeight;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tradio = useHeight/prvHeight;\n\t\t\t\t\t\t\tprvWidth *= radio;\n\t\t\t\t\t\t\tprvHeight = useHeight;\n\t\t\t\t\t\t}\n\t\t\t\t\tctxCanvasPrv.setFillStyle('black');\n\t\t\t\t\tctxCanvasPrv.fillRect(0, 0, prvX, prvY);\n\t\t\t\t\tthis.prvX = prvX = (prvX-prvWidth)/2;\n\t\t\t\t\tthis.prvY = prvY = (prvY-prvHeight)/2;\n\t\t\t\t\tthis.prvWidth = prvWidth;\n\t\t\t\t\tthis.prvHeight = prvHeight;\n\t\t\t\t\tctxCanvasPrv.drawImage(r, prvX, prvY, prvWidth, prvHeight);\n\t\t\t\t\tctxCanvasPrv.draw(false);\n\t\t\t\t\t\n\n\n\n\n\n\n\n\t\t\t\t\tif( this.platform != 'android' ) {\n\t\t\t\t\t\tthis.showOper = false;\n\t\t\t\t\t}\n\t\t\t\t\tthis.prvTop = '0';\n\n\t\t\t\t},\n\t\t\t\tfail: ()=>{\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: \"error2\",\n\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t})\n\t\t\t\t}, \n\t\t\t\tcomplete: () => {\n\t\t\t\t\tuni.hideLoading();\n\t\t\t\t}\n\t\t\t}, this);\n\t\t},\n\t\tfDrawInit(ini=false) {\n\t\t\tlet allWidth = this.windowWidth,\n\t\t\t\tallHeight = this.windowHeight,\n\t\t\t\timgWidth = this.imgWidth,\n\t\t\t\timgHeight = this.imgHeight,\n\t\t\t\timgRadio = imgWidth/imgHeight,\n\t\t\t\tuseWidth = allWidth - 40,\n\t\t\t\tuseHeight = allHeight - tabHeight - 80,\n\t\t\t\tpixelRatio = this.pixelRatio;\n\t\t\tif( imgRadio < 1 ) {\n\t\t\t\tif( imgHeight < useHeight ) {\n\t\t\t\t\tuseWidth = imgWidth;\n\t\t\t\t\tuseHeight = imgHeight;\n\t\t\t\t} else {\n\t\t\t\t\tuseHeight = useHeight;\n\t\t\t\t\tuseWidth = useHeight*imgRadio;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif( imgWidth < useWidth ) {\n\t\t\t\t\tuseWidth = imgWidth;\n\t\t\t\t\tuseHeight = imgHeight;\n\t\t\t\t} else {\n\t\t\t\t\tuseWidth = useWidth;\n\t\t\t\t\tuseHeight = useWidth/imgRadio;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.scaleSize = 1;\n\t\t\tthis.rotateDeg = 0;\n\t\t\tthis.posWidth = (allWidth-useWidth)/2;\n\t\t\tthis.posHeight = (allHeight-useHeight-tabHeight)/2;\n\t\t\tthis.useWidth = useWidth;\n\t\t\tthis.useHeight = useHeight;\n\t\t\t\n\t\t\tlet style = this.selStyle,\n\t\t\t\tleft = parseInt(style.left),\n\t\t\t\ttop = parseInt(style.top),\n\t\t\t\twidth = parseInt(style.width),\n\t\t\t\theight = parseInt(style.height),\n\t\t\t\tcanvas = this.canvas,\n\t\t\t\tcanvasOper = this.canvasOper,\n\t\t\t\tctxCanvas = this.ctxCanvas,\n\t\t\t\tctxCanvasOper = this.ctxCanvasOper;\n\t\t\tctxCanvasOper.setLineWidth(3);\n\t\t\tctxCanvasOper.setStrokeStyle('grey');\n\t\t\tctxCanvasOper.setGlobalAlpha(0.3);\n\t\t\tctxCanvasOper.setFillStyle('grey');\n\t\t\tctxCanvasOper.strokeRect( left, top, width, height );\n\t\t\tctxCanvasOper.fillRect(0, 0, this.windowWidth, top);\n\t\t\tctxCanvasOper.fillRect(0, top, left, height);\n\t\t\tctxCanvasOper.fillRect(0, top+height, this.windowWidth, this.windowHeight-height-top-tabHeight);\n\t\t\tctxCanvasOper.fillRect(left+width, top,this.windowWidth-width-left, height);\n\t\t\tctxCanvasOper.draw(false);\n\t\t\t\n\t\t\tif( ini ) {\n\t\t\t\tthis.styleDisplay = 'flex';\n\n\n\n\n\t\t\t\tthis.styleTop = '0';\n\n\t\t\t\tctxCanvas.setFillStyle('black');\n\t\t\t\tthis.fDrawImage();\n\t\t\t}\n\t\t},\n\t\tfSelect() {\n\t\t\tif(this.fSelecting) return;\n\t\t\tthis.fSelecting = true;\n\t\t\tsetTimeout(()=>{ this.fSelecting = false; }, 500)\n\t\t\t\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1,\n\t\t\t\tsizeType: ['original', 'compressed'],\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tsuccess: (r)=>{\n\t\t\t\t\tuni.showLoading({ mask: true });\n\t\t\t\t\tlet path = this.imgPath = r.tempFilePaths[0];\n\t\t\t\t\tuni.getImageInfo({\n\t\t\t\t\t\tsrc: path,\n\t\t\t\t\t\tsuccess: r => {\n\t\t\t\t\t\t\tthis.imgWidth = r.width;\n\t\t\t\t\t\t\tthis.imgHeight = r.height;\n\t\t\t\t\t\t\tthis.path = path;\n\t\t\t\t\t\t\tuni.hideTabBar({\n\t\t\t\t\t\t\t\tcomplete: () => {\n\t\t\t\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t\t\t\tthis.fDrawInit(true);\n\t\t\t\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: ()=>{\n\t\t\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\t\t\ttitle: \"error3\",\n\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcomplete() {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tfStart(e) {\n\t\t\tlet touches = e.touches,\n\t\t\ttouch0 = touches[0],\n\t\t\ttouch1 = touches[1];\n\t\t\t\n\t\t\tthis.touch0 = touch0;\n\t\t\tthis.touch1 = touch1;\n\t\t\t\n\t\t\tif( touch1 ) {\n\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\ty = touch1.y - touch0.y;\n\t\t\t\tthis.fgDistance = Math.sqrt(x * x + y * y);\n\t\t\t}\n\t\t},\n\t\tfMove(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches[0],\n\t\t\t\ttouch1 = touches[1];\n\t\t\t\t\n\t\t\tif( touch1 ) {\n\t\t\t\tlet x = touch1.x - touch0.x,\n\t\t\t\t\ty = touch1.y - touch0.y,\n\t\t\t\t\tfgDistance = Math.sqrt(x * x + y * y),\n\t\t\t\t\tscaleSize = 0.005 * (fgDistance - this.fgDistance);\n\t\t\t\tif( this.scaleSize + scaleSize > 0.3 && this.scaleSize + scaleSize < 4 ) {\n\t\t\t\t\tthis.scaleSize += scaleSize;\n\t\t\t\t} \n\t\t\t\tthis.fgDistance = fgDistance;\n\t\t\n\t\t\t\tif(touch1.x !== touch0.x) {\n\t\t\t\t\tx = (this.touch1.y - this.touch0.y)/(this.touch1.x - this.touch0.x);\n\t\t\t\t\ty = (touch1.y - touch0.y)/(touch1.x - touch0.x);\n\t\t\t\t\tthis.rotateDeg += Math.atan((y-x)/(1+x*y)) * 180/Math.PI;\n\t\t\t\t\tthis.touch0 = touch0;\n\t\t\t\t\tthis.touch1 = touch1;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.fDrawImage();\n\t\t\t} else if( this.touch0 ) {\n\t\t\t\tlet x = touch0.x - this.touch0.x,\n\t\t\t\t\ty = touch0.y - this.touch0.y;\n\t\t\t\tif( Math.abs(x) < 100 ) this.posWidth  += x;\n\t\t\t\tif( Math.abs(y) < 100 ) this.posHeight += y;\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t\t\n\t\t\t\tthis.fDrawImage();\n\t\t\t}\n\t\t},\n\t\tfEnd(e) {\n\t\t\tlet touches = e.touches,\n\t\t\t\ttouch0 = touches && touches[0],\n\t\t\t\ttouch1 = touches && touches[1];\n\t\t\tif(touch0) {\n\t\t\t\tthis.touch0 = touch0;\n\t\t\t} else {\n\t\t\t\tthis.touch0 = null;\n\t\t\t\tthis.touch1 = null;\n\t\t\t}\n\t\t},\n\t\tbtop(base64) {\n\t\t\treturn new Promise(function(resolve, reject) {\n\t\t\t\tvar arr = base64.split(','),\n\t\t\t\t\tmime = arr[0].match(/:(.*?);/)[1],\n\t\t\t\t\tbstr = atob(arr[1]),\n\t\t\t\t\tn = bstr.length,\n\t\t\t\t\tu8arr = new Uint8Array(n);\n\t\t\t\twhile (n--) {\n\t\t\t\t\tu8arr[n] = bstr.charCodeAt(n);\n\t\t\t\t}\n\t\t\t\treturn resolve((window.URL || window.webkitURL).createObjectURL(new Blob([u8arr], { type: mime })));\n\t\t\t});\n\t\t},\n\t}\n}\n","import mod from \"-!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../HBuilderX/HBuilderX.1.9.4.20190426.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./yq-avatar.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}